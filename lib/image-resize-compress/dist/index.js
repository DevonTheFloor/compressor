!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,"fromBlob",(function(){return u})),n.d(e,"fromURL",(function(){return a})),n.d(e,"blobToURL",(function(){return f})),n.d(e,"urlToBlob",(function(){return l}));var o=function(t){return"png"===t?"image/png":"webp"===t?"image/webp":"bmp"===t?"image/bmp":"gif"===t?"image/gif":"image/jpeg"},i=function(t,e,n){if(e>0&&n>0)return{width:e,height:n};if(e>0){if(0===n)return{width:e,height:t.naturalHeight};var r=t.naturalWidth/e;return{width:e,height:Math.round(100*(t.naturalHeight/r+Number.EPSILON))/100}}if(n>0){if(0===e)return{width:t.naturalWidth,height:n};var o=t.naturalHeight/n;return{width:Math.round(100*(t.naturalWidth/o+Number.EPSILON))/100,height:n}}return{width:t.naturalWidth,height:t.naturalHeight}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!(t instanceof Blob))throw new TypeError("Expected blob or file! ".concat(r(t)," given!"));if(n<0||u<0)throw new RangeError("Invalid width or height value!");if(e<=0)throw new RangeError("Quality must be higher than 0!");return new Promise((function(r){var f=a?o(a):t.type,l=e<1?e:e/100,c=new FileReader;c.readAsDataURL(t),c.onload=function(){var t=new Image;t.src=c.result,t.onload=function(){var e=document.createElement("canvas"),o=i(t,n,u);e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(t,0,0,e.width,e.height),e.toBlob((function(t){return r(new Blob([t],{type:f}))}),f,l)}}}))},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return fetch(t).then((function(t){return t.blob()})).then((function(t){return u(t,e,n,r,o)})).catch((function(t){throw new Error("Failed to fetch. Image might be protected. See Cross Origin Resource Sharing. Error: "+t)}))},f=function(t){return new Promise((function(e){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(t){return e(t.target.result)}}))},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return fetch(t,e).then((function(t){return t.blob()})).catch((function(t){throw new Error("Failed to fetch. Image might be protected. Error: "+t)}))}}])}));